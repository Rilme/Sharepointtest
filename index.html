<script>
document.getElementById('myForm').addEventListener('submit', function(event) {
  event.preventDefault(); // Prevent default form submission
  
  // Construct form data
  var formData = new FormData(this);
  var data = {
    "firstName": formData.get('firstName'),
    "lastName": formData.get('lastName')
  };

  // Send form data to Power Automate
  var xhr = new XMLHttpRequest();
  xhr.open('POST', 'https://prod-191.westus.logic.azure.com:443/workflows/c2537bf7bc454b2ea998dd4f214b6300/triggers/manual/paths/invoke?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=hDud5itQ7lVz9MKy8KvOhENDrZkLwIxjkwIriEWSKpk');
  xhr.setRequestHeader('Content-Type', 'application/json');
  xhr.onload = function() {
    if (xhr.status === 200) {
      console.log('Form data sent successfully!');
    } else {
      console.error('Failed to send form data.');
    }
  };
  xhr.onerror = function() {
    console.error('Error sending form data.');
  };
  xhr.send(JSON.stringify(data));
});
</script>

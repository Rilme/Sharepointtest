<form id="myForm">
  <input type="text" name="fullName" placeholder="Full Name">
  <button type="submit">Submit</button>
</form>

<script>
document.getElementById('myForm').addEventListener('submit', function(event) {
  event.preventDefault(); // Prevent default form submission
  
  // Construct form data
  const formData = new FormData(this);
  const fullName = formData.get('fullName').trim(); // Trim to remove leading/trailing whitespace
  
  // Split full name into first name and last name
  const spaceIndex = fullName.indexOf(' ');
  let firstName, lastName;
  if (spaceIndex !== -1) {
    firstName = fullName.substring(0, spaceIndex);
    lastName = fullName.substring(spaceIndex + 1);
  } else {
    firstName = fullName;
    lastName = '';
  }
  
  // Construct data object to send to Power Automate
  const data = {
    "firstName": firstName,
    "lastName": lastName
  };

  // Send form data to Power Automate
  fetch('https://prod-191.westus.logic.azure.com:443/workflows/c2537bf7bc454b2ea998dd4f214b6300/triggers/manual/paths/invoke?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=hDud5itQ7lVz9MKy8KvOhENDrZkLwIxjkwIriEWSKpk', {
    method: 'POST',
    body: JSON.stringify(data),
    headers: {
      'Content-Type': 'application/json'
    }
  })
  .then(response => {
    if (response.ok) {
      console.log('Form data sent successfully!');
    } else {
      console.error('Failed to send form data.');
    }
  })
  .catch(error => {
    console.error('Error sending form data:', error);
  });
});
</script>
